<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src="scripts.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>

    <!-- 
      ? Consider putting scipts in seperate file
    -->

    <!-- Generate a button per note -->
    <div class="piano">
        <script>
          // Fetch notes from notes.json and create buttons for each note
          fetch('notes.json')
            .then(response => response.json())
            .then(data => {
              // Iterate through each note and create a button
              Object.keys(data).forEach(note => {
                const button = document.createElement('button');
                if (note.includes('#')) {
                  // Add class "sharp-key" to notes with #
                  button.className = 'sharp-key'; 
                } else {
                  // Set the text of the button to the note
                  button.textContent = note; 
                  // Add class "key" to notes without #
                  button.className = 'key';
                }

                // Set onclick event to play the frequency of the note
                button.onclick = () => playFrequency(data[note]);

                // Set keydown event to trigger the button with the appropriate keybind
                document.addEventListener('keydown', (event) => {
                  if (event.key === data[note].keybind) {
                    button.click();
                  }
                });

                // Append the button to the document body
                document.querySelector('.piano').appendChild(button);
              });
            });
        </script>
      </div>
  </body>
</html>
